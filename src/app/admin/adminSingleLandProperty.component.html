<div class="all-wrapper solid-bg-all">

  <div class="layout-w">
    <!--------------------
                  START - Mobile Menu
                  -------------------->
    <app-adminmobilemenu></app-adminmobilemenu>
    <!--------------------
                  END - Mobile Menu
                  -------------------->
    <!--------------------
                  START - Main Menu
                  -------------------->
    <app-adminmainmenu></app-adminmainmenu>
    <!--------------------
                  END - Main Menu
                  -------------------->
    <div class="content-w">
      <!--------------------
                    START - Top Bar
                    -------------------->
      <app-admintopbar></app-admintopbar>
      <!--------------------
                    END - Top Bar
                    -------------------->
      <!--------------------
                    START - Breadcrumbs
                    -------------------->
      <ul class="breadcrumb">
        <li class="breadcrumb-item">
          <a [routerLink]="['/admindashboard']">Home</a>
        </li>
        <li class="breadcrumb-item">
          <a [routerLink]="['/adminallland']">All Properties</a>
        </li>
        <!-- <li class="breadcrumb-item">
          <span>Laptop with retina screen</span>
        </li> -->
      </ul>
      <!--------------------
                    END - Breadcrumbs
                    -------------------->




      <div class="all-wrapper rentals">
        <!--------------------
      START - Rentals Content
      -------------------->
        <div class="property-single">
            <!-- <app-singlepageimage [sourc3]="pid" [sourc4]="imagea"></app-singlepageimage>  style="background-image: url({{dataUrl$|async}})"-->
          <div class="property-media" style="background-image: url('../assets/img/landplot.jpg')"></div>
          
          <div class="property-info-w">
            <div class="property-info-main">
              <div class="badge badge-red">
                For Sale
              </div>
              <div class="item-features">
                <div class="feature">
                  <!-- plot -->
                  {{land.land_info[0].no_of_plots}} plot(s)
                </div>
                <div class="feature">
                  <!-- city -->
                  {{land.location[0].city}}
                </div>
                <div class="feature">
                  <!-- state -->
                  {{land.location[0].city}}
                </div>
              </div>
              <h1>
                Plot Size: {{land.land_info[0].plot_size}}
              </h1>
              <div>
                <!-- address -->
                {{land.location[0].address}}, {{land.location[0].city}}, {{land.location[0].state}}
              </div>
              <div class="property-price">
                <strong>{{land.land_info[0].price|currency:'NGN'}}</strong><span>Listing Price</span>

                <div class="form-buttons mt-3 mb-3">
                  <a class="btn btn-primary" data-target="#onboardingFormModal" data-toggle="modal" href="#">Send as
                    Email</a>
                </div>

                <div class="media-buttons">
                  <h6>Share</h6>
                  <a href="#"><i class="os-icon os-icon-facebook facebook"></i></a>
                  <a href="#"><i class="os-icon os-icon-twitter twitter"></i></a>
                  <a href="#"><i class="os-icon os-icon-instagram instagram"></i></a>
                </div>
              </div>


              <!-- Modal for Send as Email-->
              <div aria-hidden="true" aria-labelledby="exampleModalLabel" class="modal fade" id="onboardingFormModal"
                role="dialog" tabindex="-1">
                <div class="modal-dialog" role="document">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h5 class="modal-title" id="onboardingFormModal">
                        Send Mail
                      </h5>
                      <button aria-label="Close" class="close" data-dismiss="modal" type="button"><span
                          aria-hidden="true">
                          &times;</span></button>
                    </div>
                    <div class="modal-body">
                      <form>
                        <div class="form-group">
                          <label for=""> Email</label><input class="form-control" placeholder="Email" type="email">
                        </div>
                        <div class="form-group">
                          <label> Message</label><textarea class="form-control" rows="3"></textarea>
                        </div>
                      </form>
                    </div>
                    <div class="modal-footer">
                      <button class="btn btn-secondary" data-dismiss="modal" type="button">
                        Close</button><button class="btn btn-primary" type="button">Send</button>
                    </div>
                  </div>
                </div>
              </div>


              <div class="property-description">
                <p>
                    {{land.land_info[0].description}}  
                </p>
                
              </div>
              <div class="property-section">
                <div class="property-section-header">
                  Land Documents
                  <div class="filter-toggle">
                    <i class="os-icon-minus os-icon"></i>
                  </div>
                </div>
                <div class="property-section-body">
                  <div class="row" *ngIf="documentcount">
                    <div class="col-sm-6" *ngFor="let item of land.agreements;let i = index;">
                      <div class="documents">
                        <h5>
                          {{item.title}}
                        </h5>
                        <p>
                            <app-propertydownload [sourc]="item.filename" [sourc2]="item.pid"></app-propertydownload>
                        </p>
                        <p>Uploaded {{item.createdAt|date :'short'}}</p>
                      </div>
                    </div>
                    
                  </div>
                  <div *ngIf="!documentcount" class="col-md-12">
                    <div>
                      <p class="text-center">No Documents For This Property</p>
                    </div>
                  </div>
                </div>
              </div>
              <!-- <div class="property-section">
                <div class="property-section-header">
                  Extra Charges
                  <div class="filter-toggle">
                    <i class="os-icon-minus os-icon"></i>
                  </div>
                </div>
                <div class="property-section-body">
                  <div class="row">
                    <div class="col-md-6">
                      <ul>
                        <li>
                          Cleaning Fee: <strong>$50</strong>
                        </li>
                        <li>
                          Security Deposit: <strong>$200</strong>
                        </li>
                        <li>
                          Weekly Discount: <strong>10%</strong>
                        </li>
                      </ul>
                    </div>
                    <div class="col-md-6">
                      <ul>
                        <li>
                          Monthly Discount: <strong>15%</strong>
                        </li>
                        <li>
                          Weekend Price: <strong>$199 / night</strong>
                        </li>
                      </ul>
                    </div>
                  </div>
                  <div class="property-note">
                    <h6>
                      Always communicate through
                    </h6>
                    <p>
                      To protect your payment, never transfer money or communicate outside of the our website or app.
                    </p>
                  </div>
                </div>
              </div> -->
              <div class="property-section">
                <div class="property-section-header">
                  Facts &amp; Features
                  <div class="filter-toggle">
                    <i class="os-icon-minus os-icon"></i>
                  </div>
                </div>
                <div class="property-section-body">
                  <div class="row">
                    <div class="col-md-6" *ngFor="let item of land.facilities">
                      <ul>
                        <li>
                            <!-- <i class="os-icon os-icon-fire"></i> -->
                          <span>{{item.name}}</span>
                        </li>
                      </ul>
                    </div>
                    <!-- <div class="col-md-6">
                      <ul>
                        <li>
                          <i class="os-icon os-icon-home-11"></i><span>Is Cleared</span>
                        </li>
                      </ul>
                    </div> -->
                  </div>
                </div>
              </div>
              <div class="property-section">
                <div class="property-section-header">
                  House Rules
                  <div class="filter-toggle">
                    <i class="os-icon-minus os-icon"></i>
                  </div>
                </div>
                <div class="property-section-body">
                  <ul>
                    <li *ngFor="let item of land.rules">
                      {{item.rule}}
                    </li>
                  </ul>
                  <div *ngIf="!rulecount" class="col-md-12">
                    <div>
                      <p class="text-center">No Rules For This Property</p>
                    </div>
                  </div>
                </div>
              </div>
              <div class="property-section">
                <div class="property-section-header">
                  Cancellation Policy
                  <div class="filter-toggle">
                    <i class="os-icon-minus os-icon"></i>
                  </div>
                </div>
                <div class="property-section-body">
                  <ul>
                    <li *ngFor="let item of land.cancellation_policy">
                      {{item.policy}}
                    </li>
                  </ul>
                </div>
              </div>
              <div class="property-section">
                <div class="property-section-header">
                  Land Realtors
                  <div class="filter-toggle">
                    <i class="os-icon-minus os-icon"></i>
                  </div>
                </div>
                <div class="property-section-body">
                  <a class="btn btn-sm btn-success mb-3" data-target="#assignRealtor" data-toggle="modal">Add
                    New
                    Realtor</a>

                  <div class="table-responsive">
                    <table class="table table-padded">
                      <thead>
                        <tr>
                          <th>
                            &nbsp;
                          </th>
                          <th>
                            Name
                          </th>
                          <th>
                            Email
                          </th>
                          <th>
                            Number
                          </th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr *ngFor="let item of land.realtors">
                          <td class="text-center">
                            <button title="Unassign This Realtor" class="btn btn-danger" (click)="unassign($event, item.rid)"><i class="fa fa-trash-alt"></i></button>
                          </td>
                          <td class="text-center">
                            {{item.realtor_name}}
                          </td>
                          <td class="text-center">
                            {{item.email}}
                          </td>
                          <td class="text-center">
                            {{item.phone_number}}
                          </td>
                        </tr>
                        
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
              <div class="property-section">
                <div class="property-section-header">
                  Land Buyers
                  <div class="filter-toggle">
                    <i class="os-icon-minus os-icon"></i>
                  </div>
                </div>
                <div class="property-section-body">
                  <div class="table-responsive">
                    <table class="table table-padded">
                      <thead>
                        <tr>
                          <th class="text-center">
                            Name
                          </th>
                          <th class="text-center">
                            Email
                          </th>
                          <th class="text-center">
                            Number
                          </th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr *ngFor="let item of land.buyers">
                          <td class="text-center">
                            {{item.customer_name}}
                          </td>
                          <td class="text-center">
                            {{item.email}}
                          </td>
                          <td class="text-center">
                            {{item.phone_number}}
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>


            <div aria-hidden="true" aria-labelledby="assignRealtorLabel" class="modal fade" id="assignRealtor"
              role="dialog" tabindex="-1">
              <div class="modal-dialog" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="assignRealtor">
                      Assign Realtor
                    </h5>
                    <button aria-label="Close" class="close" data-dismiss="modal" type="button"><span
                        aria-hidden="true">
                        &times;</span></button>
                  </div>
                  <form [formGroup]="addLandRealtor" (ngSubmit)="onLRSubmit()">
                    <div class="modal-body">
                        <div class="form-group">
                          <label for="" class="float-left">
                            Please Select Realtor</label>
                          <select
                            formControlName="realt"
                            class="form-control"
                            [ngClass]="{'is-invalid': g.realt.touched && g.realt.invalid}">
                            <option selected [ngValue]="null">-- Select Realtor --</option>
                            <option *ngFor="let item of realtors;" [value]="item.uid">{{item.firstname}} {{item.lastname}}</option>
                          </select>
                        </div>
                      
                    </div>
                    <div class="modal-footer">
                      <button class="btn btn-secondary" data-dismiss="modal" type="button">Close</button>
                      <button [disabled]="addLandRealtor.invalid" class="btn btn-primary" type="submit"> Assign Realtor</button>

                      <div>
                          <p class="mt-4 text-center text-1 text-success font-weight-bold"
                          *ngIf="landinfosubmitted1=='true'">Realtor Assigned To This Property</p>
                      </div>
                      <div>
                          <p class="mt-4 text-center text-1 text-danger font-weight-bold"
                          *ngIf="landinfosubmitted1=='false'">An Error Occurred</p>
                      </div>
                      
                    </div>
                  </form>  
                </div>
              </div>
            </div>

            <div class="property-info-side">
              <div class="side-section">
                <div class="side-section-header">
                  Facts and Features
                </div>
                <div class="side-section-content">
                  <div class="property-side-features">
                    <!-- loop through facilities -->

                    <div class="feature"
                    *ngFor="let item of land.facilities">
                      <i></i><span>{{item.name}}</span>
                    </div>
                    <!-- <div class="feature">
                      <i class="os-icon os-icon-home-13"></i><span>2 Bathrooms</span>
                    </div>
                    <div class="feature">
                      <i class="os-icon os-icon-home-09"></i><span>Modern Kitchen</span>
                    </div>
                    <div class="feature">
                      <i class="os-icon os-icon-ui-83"></i><span>Built in 2014</span>
                    </div>
                    <div class="feature">
                      <i class="os-icon os-icon-home-10"></i><span>Washer and Dryer</span>
                    </div> -->
                  </div>
                </div>
              </div>
              <!-- <div class="side-magic" style="background-image: url(../../assets/img/property1.jpg)">
                <div class="fader"></div>
                <h4 class="side-magic-title">
                  You have a listing to offer?
                </h4>
                <div class="side-magic-desc">
                  List your property on our site and get a special offer
                </div>
                <a class="side-magic-btn">Submit Listing</a>
              </div> -->
            </div>
          </div>
          <!--------------------
            START - Related Properties
            ------------------              -->
          <!-- <div class="related-listings-w">
            <h2 class="property-section-big-header">
              Related Properties
            </h2>
            <div class="related-listings"> -->
              <!--------------------
                START - Property Item
                -------------------->
              <!-- <div class="property-item">
                <a class="item-media-w" [routerLink]="['/adminsinglelandproperty']">
                  <div class="item-media" style="background-image: url(./assets/img/landplot.jpg)">
                  </div>
                </a>
                <div class="item-info">
                  <div class="item-features">
                    <div class="feature">
                      Beach
                    </div>
                    <div class="feature">
                      500 SqMt
                    </div>
                    <div class="feature">
                      32 plots
                    </div>
                  </div>
                  <h3 class="item-title">
                    <a [routerLink]="['/adminsinglelandproperty']">3 Acres of Land</a>
                  </h3>
                  <div>1, Wale Balogun close off pa shekoni crescent Ajah Lagos
                    state</div>
                  <div class="item-price-buttons">
                    <div class="item-price">
                      <strong>$250</strong><span>/per acre</span>
                    </div>
                    <div class="item-buttons">
                      <a class="btn btn-outline-primary"
                        [routerLink]="['/adminsinglelandproperty']"><span>Details</span><i
                          class="os-icon os-icon-arrow-2-right"></i>
                    </div>
                  </div>
                </div>
              </div> -->
              <!--------------------
                END - Property Item
                -------------------->
              <!--------------------
                START - Property Item
                -------------------->
              <!-- <div class="property-item">
                <a class="item-media-w" [routerLink]="['/adminsinglelandproperty']">
                  <div class="item-media" style="background-image: url(./assets/img/landplot.jpg)">
                  </div>
                </a>
                <div class="item-info">
                  <div class="item-features">
                    <div class="feature">
                      Beach
                    </div>
                    <div class="feature">
                      500 SqMt
                    </div>
                    <div class="feature">
                      32 plots
                    </div>
                  </div>
                  <h3 class="item-title">
                    <a [routerLink]="['/adminsinglelandproperty']">3 Acres of Land</a>
                  </h3>
                  <div>1, Wale Balogun close off pa shekoni crescent Ajah Lagos
                    state</div>
                  <div class="item-price-buttons">
                    <div class="item-price">
                      <strong>$250</strong><span>/per acre</span>
                    </div>
                    <div class="item-buttons">
                      <a class="btn btn-outline-primary"
                        [routerLink]="['/adminsinglelandproperty']"><span>Details</span><i
                          class="os-icon os-icon-arrow-2-right"></i></a>
                    </div>
                  </div>
                </div>
              </div> -->
              <!--------------------
                END - Property Item
                -------------------->
              <!--------------------
                START - Property Item
                -------------------->
              <!-- <div class="property-item">
                <a class="item-media-w" [routerLink]="['/adminsinglelandproperty']">
                  <div class="item-media" style="background-image: url(./assets/img/landplot.jpg)">
                  </div>
                </a>
                <div class="item-info">
                  <div class="item-features">
                    <div class="feature">
                      Beach
                    </div>
                    <div class="feature">
                      500 SqMt
                    </div>
                    <div class="feature">
                      32 plots
                    </div>
                  </div>
                  <h3 class="item-title">
                    <a [routerLink]="['/adminsinglelandproperty']">3 Acres of Land</a>
                  </h3>
                  <div>1, Wale Balogun close off pa shekoni crescent Ajah Lagos
                    state</div>
                  <div class="item-price-buttons">
                    <div class="item-price">
                      <strong>$250</strong><span>/per acre</span>
                    </div>
                    <div class="item-buttons">
                      <a class="btn btn-outline-primary"
                        [routerLink]="['/adminsinglelandproperty']"><span>Details</span><i
                          class="os-icon os-icon-arrow-2-right"></i></a>
                    </div>
                  </div>
                </div>
              </div> -->
              <!--------------------
                END - Property Item
                -------------------->
            <!-- </div>
          </div> -->
          <!--------------------
            END - Related Properties
            ------------------        -->
        </div>
        <!--------------------
          END - Rentals Content
          -------------------->
      </div>






    </div>
  </div>
  <div class="display-type"></div>
</div>